(()=>{"use strict";var e={16:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(354),r=n.n(a),s=n(314),i=n.n(s)()(r());i.push([e.id,'/*\n  Josh\'s Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\n.container {\n  height: 100vh;\n  display: grid;\n  grid-template-rows: 100px 1fr;\n  justify-items: center;\n  padding: 1rem;\n}\n\n.title {\n  place-self: center;\n}\n\n.game-container {\n  display: grid;\n  grid-template-areas:\n    "message message"\n    "gameboard1 gameboard2";\n  grid-template-columns: auto auto;\n  grid-template-rows: 50px min-content;\n  gap: 50px;\n}\n\n.result-message {\n  grid-area: message;\n}\n\n.gameboard1 {\n  grid-area: gameboard1;\n  display: grid;\n  grid-template-rows: repeat(10, 50px);\n  grid-template-columns: repeat(10, 50px);\n  border: 1px solid black;\n  background-color: yellow;\n  gap: 2px;\n  padding: 2px;\n  position: relative;\n}\n\n.gameboard2 {\n  grid-area: gameboard2;\n  display: grid;\n  grid-template-rows: repeat(10, 50px);\n  grid-template-columns: repeat(10, 50px);\n  border: 1px solid black;\n  background-color: red;\n  gap: 2px;\n  padding: 2px;\n  position: relative;\n}\n\n.square {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 2em;\n  border: 1px solid gray;\n  background-color: white;\n  cursor: pointer;\n}\n\n.missed-square {\n  background-color: rgba(206, 203, 203, 0.5);\n}\n\n.attacked-square {\n  background-color: blue;\n}\n\n.white-mask {\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n}\n\n.setup-page .message {\n  grid-area: message;\n}\n\n.setup-page .ships-setup {\n  grid-area: gameboard1;\n}\n\n.setup-page .gameboard {\n  grid-area: gameboard2;\n  display: grid;\n  grid-template-rows: repeat(10, 50px);\n  grid-template-columns: repeat(10, 50px);\n  border: 1px solid black;\n  background-color: red;\n  gap: 2px;\n  padding: 2px;\n  position: relative;\n}\n\n.ships-setup {\n  display: grid;\n  width: 800px;\n  grid-template-rows: 30px 1fr;\n  gap: 1rem;\n}\n\n.ships-setup .ships {\n  display: flex;\n  gap: 2rem;\n  flex-wrap: wrap;\n}\n\n.ships-setup .ships > div {\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  min-width: 100px;\n}\n\n.ships-setup .ship, .placed-ship {\n  background-color: blue;\n  height: 50px;\n  border-radius: 10px;\n}\n\n.ships-setup .carrier {\n  width: 250px;\n}\n\n.ships-setup .battleship {\n  width: 200px;\n}\n.ships-setup .destroyer,\n.ships-setup .submarine {\n  width: 150px;\n}\n.ships-setup .patrol-boat {\n  width: 100px;\n}\n\n.ships-setup .ship.vertical {\n  background-color: blue;\n  width: 50px;\n  border-radius: 10px;\n  padding: 1px;\n}\n\n.ships-setup .carrier.vertical {\n  height: 250px;\n}\n\n.ships-setup .battleship.vertical {\n  height: 200px;\n}\n.ships-setup .destroyer.vertical,\n.ships-setup .submarine.vertical {\n  height: 150px;\n}\n.ships-setup .patrol-boat.vertical {\n  height: 100px;\n}\n\n.placed-ship {\n  position: absolute;\n}\n\n.buttons {\n  display: flex;\n  justify-content: end;\n  gap: 1rem;\n}',"",{version:3,sources:["webpack://./src/css/style.css"],names:[],mappings:"AAAA;;;CAGC;;AAED;;;EAGE,sBAAsB;AACxB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE;IACE,gCAAgC;EAClC;AACF;;AAEA;EACE,gBAAgB;EAChB,mCAAmC;AACrC;;AAEA;;;;;EAKE,cAAc;EACd,eAAe;AACjB;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;;;;;;EAOE,yBAAyB;AAC3B;;AAEA;EACE,iBAAiB;AACnB;AACA;;;;;;EAME,kBAAkB;AACpB;;AAEA;;EAEE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,aAAa;EACb,6BAA6B;EAC7B,qBAAqB;EACrB,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb;;2BAEyB;EACzB,gCAAgC;EAChC,oCAAoC;EACpC,SAAS;AACX;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,aAAa;EACb,oCAAoC;EACpC,uCAAuC;EACvC,uBAAuB;EACvB,wBAAwB;EACxB,QAAQ;EACR,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,aAAa;EACb,oCAAoC;EACpC,uCAAuC;EACvC,uBAAuB;EACvB,qBAAqB;EACrB,QAAQ;EACR,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,cAAc;EACd,sBAAsB;EACtB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,0CAA0C;EAC1C,UAAU;EACV,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB,aAAa;EACb,oCAAoC;EACpC,uCAAuC;EACvC,uBAAuB;EACvB,qBAAqB;EACrB,QAAQ;EACR,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,4BAA4B;EAC5B,SAAS;AACX;;AAEA;EACE,aAAa;EACb,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,sBAAsB;EACtB,YAAY;EACZ,mBAAmB;AACrB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;AACA;;EAEE,YAAY;AACd;AACA;EACE,YAAY;AACd;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;AACA;;EAEE,aAAa;AACf;AACA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,oBAAoB;EACpB,SAAS;AACX",sourcesContent:['/*\n  Josh\'s Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\n.container {\n  height: 100vh;\n  display: grid;\n  grid-template-rows: 100px 1fr;\n  justify-items: center;\n  padding: 1rem;\n}\n\n.title {\n  place-self: center;\n}\n\n.game-container {\n  display: grid;\n  grid-template-areas:\n    "message message"\n    "gameboard1 gameboard2";\n  grid-template-columns: auto auto;\n  grid-template-rows: 50px min-content;\n  gap: 50px;\n}\n\n.result-message {\n  grid-area: message;\n}\n\n.gameboard1 {\n  grid-area: gameboard1;\n  display: grid;\n  grid-template-rows: repeat(10, 50px);\n  grid-template-columns: repeat(10, 50px);\n  border: 1px solid black;\n  background-color: yellow;\n  gap: 2px;\n  padding: 2px;\n  position: relative;\n}\n\n.gameboard2 {\n  grid-area: gameboard2;\n  display: grid;\n  grid-template-rows: repeat(10, 50px);\n  grid-template-columns: repeat(10, 50px);\n  border: 1px solid black;\n  background-color: red;\n  gap: 2px;\n  padding: 2px;\n  position: relative;\n}\n\n.square {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 2em;\n  border: 1px solid gray;\n  background-color: white;\n  cursor: pointer;\n}\n\n.missed-square {\n  background-color: rgba(206, 203, 203, 0.5);\n}\n\n.attacked-square {\n  background-color: blue;\n}\n\n.white-mask {\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n}\n\n.setup-page .message {\n  grid-area: message;\n}\n\n.setup-page .ships-setup {\n  grid-area: gameboard1;\n}\n\n.setup-page .gameboard {\n  grid-area: gameboard2;\n  display: grid;\n  grid-template-rows: repeat(10, 50px);\n  grid-template-columns: repeat(10, 50px);\n  border: 1px solid black;\n  background-color: red;\n  gap: 2px;\n  padding: 2px;\n  position: relative;\n}\n\n.ships-setup {\n  display: grid;\n  width: 800px;\n  grid-template-rows: 30px 1fr;\n  gap: 1rem;\n}\n\n.ships-setup .ships {\n  display: flex;\n  gap: 2rem;\n  flex-wrap: wrap;\n}\n\n.ships-setup .ships > div {\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  min-width: 100px;\n}\n\n.ships-setup .ship, .placed-ship {\n  background-color: blue;\n  height: 50px;\n  border-radius: 10px;\n}\n\n.ships-setup .carrier {\n  width: 250px;\n}\n\n.ships-setup .battleship {\n  width: 200px;\n}\n.ships-setup .destroyer,\n.ships-setup .submarine {\n  width: 150px;\n}\n.ships-setup .patrol-boat {\n  width: 100px;\n}\n\n.ships-setup .ship.vertical {\n  background-color: blue;\n  width: 50px;\n  border-radius: 10px;\n  padding: 1px;\n}\n\n.ships-setup .carrier.vertical {\n  height: 250px;\n}\n\n.ships-setup .battleship.vertical {\n  height: 200px;\n}\n.ships-setup .destroyer.vertical,\n.ships-setup .submarine.vertical {\n  height: 150px;\n}\n.ships-setup .patrol-boat.vertical {\n  height: 100px;\n}\n\n.placed-ship {\n  position: absolute;\n}\n\n.buttons {\n  display: flex;\n  justify-content: end;\n  gap: 1rem;\n}'],sourceRoot:""}]);const o=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(i[d]=!0)}for(var l=0;l<e.length;l++){var p=[].concat(e[l]);a&&i[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),t.push(p))}},t}},354:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),s="/*# ".concat(r," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var s={},i=[],o=0;o<e.length;o++){var d=e[o],l=a.base?d[0]+a.base:d[0],p=s[l]||0,A="".concat(l," ").concat(p);s[l]=p+1;var c=n(A),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==c)t[c].references++,t[c].updater(h);else{var u=r(h,a);a.byIndex=o,t.splice(o,0,{identifier:A,updater:u,references:1})}i.push(A)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var o=n(s[i]);t[o].references--}for(var d=a(e,r),l=0;l<s.length;l++){var p=n(s[l]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}s=d}}},659:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={id:a,exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var a=n(72),r=n.n(a),s=n(825),i=n.n(s),o=n(659),d=n.n(o),l=n(56),p=n.n(l),A=n(540),c=n.n(A),h=n(113),u=n.n(h),m=n(16),g={};g.styleTagTransform=u(),g.setAttributes=p(),g.insert=d().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=c(),r()(m.A,g),m.A&&m.A.locals&&m.A.locals;const E=class{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=t,this.#n=0}hit(){return this.#n+=1,this.#n}isSunk(){return this.#n===this.#t}name(){return this.#e}length(){return this.#t}},b=class{#a=Array.from({length:10},(()=>Array(10).fill(0)));#r=Array.from({length:10},(()=>Array(10).fill(null)));#s;#i;#o;#d;#l;#p;#A=[];constructor({carrierLocation:e=[],battleshipLocation:t=[],destroyerLocation:n=[],submarineLocation:a=[],patrolboatLocation:r=[]}={}){this.#s=e,this.#i=t,this.#o=n,this.#d=a,this.#l=r,this.setup()}receiveAttack(e,t){if(this.#r,e>=10||void 0===this.#a[e])return"invalid";if(0===this.#r[e][t])return"attacked";if(0===this.#a[e][t])return this.#r[e][t]=0,"miss";if(this.#a[e][t],this.#p.has(this.#a[e][t])){const n=this.#p.get(this.#a[e][t]);return this.#r[e][t]=n.symbol,n.ship.hit(),"attack"}return"invalid"}isAllShipsSunk(){return Array.from(this.#p).every((e=>!0===e[1].ship.isSunk()))}setup(){this.#p=new Map([["Carrier",{ship:new E("Carrier",5),location:this.#s,symbol:"c"}],["Battleship",{ship:new E("Battleship",4),location:this.#i,symbol:"b"}],["Destroyer",{ship:new E("Destroyer",3),location:this.#o,symbol:"d"}],["Submarine",{ship:new E("Submarine",3),location:this.#d,symbol:"s"}],["Patrol Boat",{ship:new E("Patrol Boat",2),location:this.#l,symbol:"p"}]]),this.#p.forEach((e=>{this.#A=[...this.#A,...e.location.map((e=>e.toString()))]})),this.#a=this.#c(this.#p,this.#a)}#h(e){this.#A=[...this.#A,...e.map((e=>e.toString()))]}#c(e,t){const n=t;return e.forEach(((e,t,a)=>{e.location.forEach((t=>{n[t[0]][t[1]]=e.ship.name()}))})),n}isSetupDone(){return[this.#s,this.#i,this.#o,this.#l,this.#d].every((e=>e.length>0))}clear(){this.#A=[],this.#s=[],this.#i=[],this.#o=[],this.#l=[],this.#d=[]}isLocationValid(e){return this.#A,0===e.filter((e=>this.#A.includes(e.toString()))).length}setCarrierLocation(e){return this.isLocationValid(e)?(this.#s=e,this.#h(e),"set"):null}setBattleshipLocation(e){return this.isLocationValid(e)?(this.#i=e,this.#h(e),"set"):null}setDestroyerLocation(e){return this.isLocationValid(e)?(this.#o=e,this.#h(e),"set"):null}setSubmarineLocation(e){return this.isLocationValid(e)?(this.#d=e,this.#h(e),"set"):null}setPatrolboatLocation(e){return this.isLocationValid(e)?(this.#l=e,this.#h(e),"set"):null}getBoard(){return this.#a}getFoggedBoard(){return this.#r}},B=class{#e;#u;constructor(e,t){this.#e=e,this.#u=t}isGameOver(){return this.#u.isAllShipsSunk()}getBoard(){return this.#u}getName(){return this.#e}},y={carrierLocation:[[3,0],[3,1],[3,2],[3,3],[3,4]],battleshipLocation:[[5,5],[6,5],[7,5],[8,5]],destroyerLocation:[[2,8],[3,8],[4,8]],submarineLocation:[[7,8],[8,8],[9,8]],patrolboatLocation:[[7,1],[7,2]]},C=class{#m;#g;#E=document.querySelector(".gameboard1");#b=document.querySelector(".gameboard2");#B=document.querySelector(".result-message");#y;#C;#f;constructor(e=new B("Player1",new b(y)),t=new B("Player2",new b(y))){this.#m=e,this.#g=t}#v(e,t){t.textContent="";const n=e.getBoard();n.getFoggedBoard(),n.getFoggedBoard().forEach(((e,n)=>{e.forEach(((e,a)=>{const r=document.createElement("button");r.dataset.rowIndex=n,r.dataset.columnIndex=a,r.classList.add("square"),0===e?r.classList.add("missed-square"):null===e||r.classList.add("attacked-square"),t.appendChild(r)}))}))}startGame(){this.#f={one:{currentPlayer:this.#g,attackedPlayer:this.#m,boardElement:this.#E,otherBoardElement:this.#b,currentHandler:this.#y,addNextHandler:()=>this.#x()},two:{currentPlayer:this.#m,attackedPlayer:this.#g,boardElement:this.#b,otherBoardElement:this.#E,currentHandler:this.#C,addNextHandler:()=>this.#w()}},this.#B.textContent="Game Start. Player 1's turn.",this.#L(),this.#v(this.#m,this.#E),this.#v(this.#g,this.#b);const e=this.#k();return this.#E.appendChild(e),this}#L(){this.#y=this.#S(this.#m.getBoard(),"one"),this.#C=this.#S(this.#g.getBoard(),"two"),this.#x()}#S(e,t){return n=>{if(null===n.target.rowIndex)return null;const a=n.target.dataset.rowIndex,r=n.target.dataset.columnIndex,s=e.receiveAttack(a,r),i=e.isAllShipsSunk(),o=this.#f[t];this.#B.textContent=`${s}. `;let d=o.currentPlayer.getName();const l=this.#k();return this.#v(o.attackedPlayer,o.boardElement),this.#v(o.currentPlayer,o.otherBoardElement),i?(this.#B.textContent=`Game Over. ${o.currentPlayer.getName()} wins.`,this):("miss"===s?(d=o.attackedPlayer.getName(),o.boardElement.removeEventListener("click",o.currentHandler),d=o.attackedPlayer.getName(),o.addNextHandler(),o.boardElement.appendChild(l)):o.otherBoardElement.appendChild(l),this.#B.textContent+=`${d}'s turn.`,this)}}#k(){const e=document.createElement("div");return e.classList.add("white-mask"),e}#w(){this.#E.addEventListener("click",this.#y),this.#b.removeEventListener("click",this.#C)}#x(){this.#b.addEventListener("click",this.#C),this.#E.removeEventListener("click",this.#y)}setPlayer1(e){this.#m=e}setPlayer2(e){this.#g=e}},f=class{#G;#q=document.querySelector(".result-message");#H=document.querySelector(".gameboard");#P=document.querySelector(".rotate-button");#M=document.querySelector(".reset-button");#Y;constructor(e){this.#G=e,this.#M.addEventListener("click",(()=>this.#N())),this.#P.addEventListener("click",(()=>this.#j())),this.displayMessage(),this.#O(),this.#Y=new Map([["carrier",e=>this.#G.getBoard().setCarrierLocation(e)],["battleship",e=>this.#G.getBoard().setBattleshipLocation(e)],["destroyer",e=>this.#G.getBoard().setDestroyerLocation(e)],["submarine",e=>this.#G.getBoard().setSubmarineLocation(e)],["patrol-boat",e=>this.#G.getBoard().setPatrolboatLocation(e)]])}displayBoard(){return this.#H.textContent="",this.#G.getBoard().getBoard().forEach(((e,t)=>{e.forEach(((e,n)=>{const a=document.createElement("div");a.dataset.rowIndex=t,a.dataset.columnIndex=n,a.classList.add("square"),this.#H.appendChild(a)}))})),this}displayShips(){return document.querySelectorAll(".ship").forEach((e=>e.hidden=!1)),this}displayMessage(){return this.#q.textContent=`${this.#G.getName()}'s turn to setup.`,this}#j(e){return document.querySelectorAll(".ships-setup .ship").forEach((e=>{e.classList.contains("vertical")?e.classList.remove("vertical"):e.classList.add("vertical")})),this}#N(e){document.querySelectorAll(".ship").forEach((e=>e.hidden=!1)),this.displayBoard()}#I(e,t){return this.#Y.get(e)(t)}getPlayer(){return this.#G}setPlayer(e){return this.#G=e,this}#O(){let e;const t=document.querySelectorAll(".ships-setup .ship");this.#H.addEventListener("dragover",(e=>{e.preventDefault()})),t.forEach((t=>t.addEventListener("dragstart",(n=>{e=t})))),this.#H.addEventListener("drop",(t=>{t.preventDefault();const n=50,a=this.#H.getBoundingClientRect(),r=t.target.getBoundingClientRect(),s=Math.floor((r.x-a.x)/n),i=Math.floor((r.y-a.y)/n),{length:o}=e.dataset,d=e.classList.contains("vertical"),l=e.classList[1];let p=[];if(d)for(let e=0;e<o;e++)p=[...p,[i+e,s]];else for(let e=0;e<o;e++)p=[...p,[i,s+e]];if(null===this.#I(l,p))return null;const A=document.createElement("div");if(A.classList.add("placed-ship"),d?(A.style.width="50px",A.style.height=n*o+"px"):(A.style.height="50px",A.style.width=n*o+"px"),A.style.left=s*n+2*s+"px",A.style.top=i*n+2*i+"px",Number(A.style.width.split("px")[0])+Number(A.style.left.split("px")[0])>a.right-a.left||Number(A.style.height.split("px")[0])+Number(A.style.top.split("px")[0])>a.bottom-a.top)return null;this.#H.appendChild(A),e.hidden=!0}))}};(new class{playGame(){document.querySelector(".continue-button").addEventListener("click",(function(a){const r=n.getPlayer();if(!r.getBoard().isSetupDone())return null;if(r.getBoard().setup(),"player1"===r.getName())n.setPlayer(t).displayBoard().displayMessage().displayShips();else if("player2"===r.getName()){const n=document.querySelector(".ships-setup"),a=document.querySelector(".gameboard"),r=document.createElement("div");r.classList.add("gameboard1"),n.replaceWith(r);const s=document.createElement("div");s.classList.add("gameboard2"),a.replaceWith(s),new C(e,t).startGame()}return!0}));const e=new B("player1",new b),t=new B("player2",new b),n=new f(e).displayBoard()}}).playGame()})();
//# sourceMappingURL=main.js.map